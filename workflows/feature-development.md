# Feature Development Workflow

> 새로운 기능 개발 시 따르는 워크플로우

---

## Overview

```
┌─────────────────────────────────────────────────────────────────────┐
│                    Feature Development Workflow                      │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│   1. 요구사항 수집     →  /interview                                 │
│          ↓                                                           │
│   2. 계획 수립         →  Planner Agent                             │
│          ↓                                                           │
│   3. 사용자 승인       →  [Y/N]                                     │
│          ↓                                                           │
│   4. 구현              →  Coder Agent                               │
│          ↓                                                           │
│   5. 테스트            →  /test                                     │
│          ↓                                                           │
│   6. 코드 리뷰         →  Reviewer Agent                            │
│          ↓                                                           │
│   7. 커밋              →  /commit                                   │
│          ↓                                                           │
│   8. PR 생성           →  /review-pr                                │
│          ↓                                                           │
│   9. 배포              →  /deploy                                   │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
```

---

## Phase 1: 요구사항 수집

### 트리거
- 새 기능 요청
- 기획 논의 필요 시

### 실행

```
/interview

또는

"사용자 프로필 기능을 추가하고 싶어요"
```

### 결과
- 명확한 요구사항 정의
- SPEC.md 업데이트
- 기술적 결정 사항 확정

---

## Phase 2: 계획 수립

### 트리거
- 요구사항 수집 완료
- `/plan` 명령

### 실행

Planner Agent가 자동으로:
1. 요청 분석
2. 코드베이스 탐색
3. 영향 범위 파악
4. 단계별 계획 작성

### 결과

```markdown
## 작업 계획: 사용자 프로필

### 단계별 계획
1. [ ] 프로필 페이지 컴포넌트 생성
2. [ ] API 연동
3. [ ] 테스트 작성
```

---

## Phase 3: 사용자 승인

### 승인 옵션

| 옵션 | 설명 | 다음 단계 |
|------|------|----------|
| 승인 | 계획 확정 | Phase 4로 진행 |
| 수정 요청 | 계획 변경 필요 | Phase 2로 복귀 |
| 거부 | 작업 취소 | 종료 |

### 승인 기준

- [ ] 목표가 명확한가
- [ ] 범위가 적절한가
- [ ] 리스크가 관리 가능한가
- [ ] 일정이 현실적인가

---

## Phase 4: 구현

### 트리거
- 계획 승인 완료

### 실행

Coder Agent가:
1. 계획에 따라 코드 작성
2. 기존 패턴 준수
3. 테스트 코드 포함
4. 진행 상황 TodoWrite로 추적

### 규칙
- 계획 범위 내 구현
- 테스트 필수 포함
- 린트/타입체크 통과

---

## Phase 5: 테스트

### 트리거
- 구현 완료

### 실행

```
/test
```

### 확인 항목
- [ ] 모든 테스트 통과
- [ ] 커버리지 80% 이상
- [ ] 린트 통과
- [ ] 타입체크 통과

### 실패 시
- Self-healing 시도 (최대 3회)
- 실패 지속 시 사용자 개입

---

## Phase 6: 코드 리뷰

### 트리거
- 테스트 통과

### 실행

Reviewer Agent가:
1. 코드 품질 검사
2. 보안 검사
3. 성능 검사
4. 개선 제안

### 결과

| 결과 | 다음 단계 |
|------|----------|
| 승인 | Phase 7로 진행 |
| 조건부 승인 | 수정 후 진행 |
| 재작업 필요 | Phase 4로 복귀 |

---

## Phase 7: 커밋

### 트리거
- 코드 리뷰 승인

### 실행

```
/commit
```

### 결과
- Conventional Commits 형식 메시지
- 변경사항 커밋

---

## Phase 8: PR 생성

### 트리거
- 커밋 완료

### 실행

```
/review-pr
```

### 결과
- PR 생성
- 변경사항 요약
- 리뷰어 지정

---

## Phase 9: 배포

### 트리거
- PR 머지 완료
- `/deploy` 명령

### 실행

```
/deploy staging    # 스테이징 배포
/deploy production # 프로덕션 배포
```

### 확인 항목
- [ ] 빌드 성공
- [ ] 배포 완료
- [ ] 헬스 체크 통과

---

## Quick Reference

### 명령어

| 명령어 | 단계 | 설명 |
|--------|------|------|
| `/interview` | 1 | 요구사항 수집 |
| `/plan` | 2 | 계획 수립 |
| `/test` | 5 | 테스트 실행 |
| `/commit` | 7 | 커밋 |
| `/review-pr` | 8 | PR 생성 |
| `/deploy` | 9 | 배포 |

### 체크포인트

| 체크포인트 | 승인 필요 |
|-----------|----------|
| 계획 승인 | ✅ 사용자 |
| 코드 리뷰 | ✅ Reviewer |
| PR 머지 | ✅ 사용자 |
| 프로덕션 배포 | ✅ 사용자 + 관리자 |

---

## 관련 문서

- [[CLAUDE]] - 핵심 규칙
- [[Workflow]] - 워크플로우 상세
- [[approval-flow]] - 승인 체계
